export default {
    namespaced: true,
    state: {
        membersList: [
            {
                id: "1",
                img: "https://i.ibb.co/YtbtZxC/messi2.jpg",
                username: "messi123",
                fullName: "Lionel Messi",
                email: "lionelmessi123@gmail.com",
                phoneNumber: "0147258369",
                address: "216 Đ. Võ Văn Ngân, Bình Thọ, Thủ Đức, Thành phố Hồ Chí Minh",
                owner: "Thủ Đức Tennis",
                createDate: "20/6/2021",
                cancelCount: 4,
                status: 1,
            },
            {
                id: "2",
                img: "https://i.ibb.co/BT2ndhx/mbappe.jpg",
                username: "mbappe123",
                fullName: "Kylian Mbappe",
                email: "kylianmbappe@gmail.com",
                phoneNumber: "0258963321",
                address: "36A Đ. Võ Văn Ngân, Thủ Đức, Thành phố Hồ Chí Minh",
                owner: "Hồng Phúc Tennis",
                createDate: "20/6/2021",
                cancelCount: 0,
                status: 1,
            },
            {
                id: "3",
                img: "https://i.ibb.co/7SYJfNT/gareth-bale.jpg",
                username: "bale123",
                fullName: "Gareth Bale",
                email: "garethbale@gmail.com",
                phoneNumber: "0285741321",
                address: "212/5 Đ. Hoàng Diệu 2, Thủ Đức, Thành phố Hồ Chí Minh",
                owner: "Đức Thịnh Tennis",
                createDate: "20/6/2021",
                cancelCount: 10,
                status: 1,
            },
            {
                id: "4",
                img: "https://i.ibb.co/tBQ54Wf/lukaku.jpg",
                username: "lukaku123",
                fullName: "Romelu Lukaku",
                email: "romelulukaku@gmail.com",
                phoneNumber: "0100203022",
                address: "969. Khu Công Nghệ Cao, Quận 9, Thành phố Hồ Chí Minh",
                owner: "Lam Trường Tennis",
                createDate: "20/6/2021",
                cancelCount: 20,
                status: 1,
            },
            {
                id: "5",
                img: "https://i.ibb.co/2MDfzqc/kaka2.jpg",
                username: "kaka123",
                fullName: "KaKa",
                email: "kaka@gmail.com",
                phoneNumber: "0789456012",
                address: "312/6/6. Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh",
                owner: "Nhật Huy Tennis",
                createDate: "20/6/2021",
                cancelCount: 0,
                status: 1,
            },
            {
                id: "6",
                img: "https://i.ibb.co/TYHBG0K/congphuong.jpg",
                username: "congphuong123",
                fullName: "Nguyễn Công Phượng",
                email: "congphuong123@gmail.com",
                phoneNumber: "0203031234",
                address: "Đại học FPT, Quận 9, Thành phố Hồ Chí Minh",
                owner: "FPT Tennis",
                createDate: "20/6/2021",
                cancelCount: 1,
                status: 1,
            },
            {
                id: "7",
                img: "https://i.ibb.co/n7wPb9k/vanhau.jpg",
                username: "vanhau123",
                fullName: "Đoàn Văn Hậu",
                email: "vanhau@gmail.com",
                phoneNumber: "08885556663",
                address: "Đại học Hutech, Quận 9, Thành phố Hồ Chí Minh",
                owner: "Hutech Tennis",
                createDate: "20/6/2021",
                cancelCount: 9,
                status: 1,
            },
            {
                id: "8",
                img: "https://i.ibb.co/k5GmbsZ/quanghai2.jpg",
                username: "quanghai123",
                fullName: "Nguyễn Quang Hải",
                email: "quanghai@gmail.com",
                phoneNumber: "0111444578",
                address: "Đại học Bách Khoa, Thủ Đức, Thành phố Hồ Chí Minh",
                owner: "Bách Khoa Tennis",
                createDate: "20/6/2021",
                cancelCount: 12,
                status: 1,
            },
            {
                id: "9",
                img: "https://i.ibb.co/tBQ54Wf/lukaku.jpg",
                username: "lukaku123",
                fullName: "Romelu Lukaku",
                email: "romelulukaku@gmail.com",
                phoneNumber: "0100203022",
                address: "969. Khu Công Nghệ Cao, Quận 9, Thành phố Hồ Chí Minh",
                owner: "Lam Trường Tennis",
                createDate: "20/6/2021",
                cancelCount: 5,
                status: 1,
            },
            {
                id: "10",
                img: "https://i.ibb.co/2MDfzqc/kaka2.jpg",
                username: "kaka123",
                fullName: "KaKa",
                email: "kaka@gmail.com",
                phoneNumber: "0789456012",
                address: "312/6/6. Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh",
                owner: "Nhật Huy Tennis",
                createDate: "20/6/2021",
                cancelCount: 0,
                status: 0,
            },
            {
                id: "11",
                img: "https://i.ibb.co/tBQ54Wf/lukaku.jpg",
                username: "lukaku123",
                fullName: "Romelu Lukaku",
                email: "romelulukaku@gmail.com",
                phoneNumber: "0100203022",
                address: "969. Khu Công Nghệ Cao, Quận 9, Thành phố Hồ Chí Minh",
                owner: "Lam Trường Tennis",
                createDate: "20/6/2021",
                cancelCount: 10,
                status: 1,
            },
            {
                id: "12",
                img: "https://i.ibb.co/2MDfzqc/kaka2.jpg",
                username: "kaka123",
                fullName: "KaKa",
                email: "kaka@gmail.com",
                phoneNumber: "0789456012",
                address: "312/6/6. Linh Trung, Thủ Đức, Thành phố Hồ Chí Minh",
                owner: "Nhật Huy Tennis",
                createDate: "20/6/2021",
                cancelCount: 0,
                status: 0,
            },
        ],
    },
    getters: {
        membersList: (state) => {
            return state.membersList;
        },
        membersTotal: (state) => {
            return state.membersList.length;
        },
        searchMembers: (state) => (searchValue, currentPage, filterSelect) => {
            let filterArr = [];
            let search_arr = [];

            if (filterSelect === "1") {
                filterArr = [...state.membersList];
            } else if (filterSelect === "2") {
                filterArr = state.membersList.filter((owner) => {
                    return owner.status === 1;
                });
            } else if (filterSelect === "3") {
                filterArr = state.membersList.filter((owner) => {
                    return owner.status === 0;
                });
            }

            search_arr = filterArr.filter((member) => {
                return (
                    member.username.includes(searchValue) ||
                    member.fullName.includes(searchValue) ||
                    member.email.includes(searchValue) ||
                    member.phoneNumber.includes(searchValue) ||
                    member.address.includes(searchValue) ||
                    member.owner.includes(searchValue)
                );
            });

            let paginated_arr = [];

            if (search_arr.length > 5) {
                let size = 5;
                let startIndex = (currentPage - 1) * size;
                let endIndex = currentPage * size;
                paginated_arr = search_arr.slice(startIndex, endIndex);
            } else {
                paginated_arr = search_arr;
            }
            let search_obj = {
                search_arr: paginated_arr,
                totalSearch: search_arr.length,
            };
            return search_obj;
        },
        memberCancelManyTimes: (state) => (currentPage) => {
            // filter member who has cancelCount larger than 2
            let search_arr = state.membersList.filter((member) => {
                return member.cancelCount > 2 && member.status === 1;
            });

            // // get arr filter by search value
            // let search_arr = filterArr.filter((member) => {
            //   return (
            //     member.username.includes(searchValue) ||
            //     member.fullName.includes(searchValue) ||
            //     member.email.includes(searchValue) ||
            //     member.phoneNumber.includes(searchValue) ||
            //     member.createDate.includes(searchValue)
            //   );
            // });

            let paginated_arr = [];

            if (search_arr.length > 5) {
                let size = 5;
                let startIndex = (currentPage - 1) * size;
                let endIndex = currentPage * size;
                paginated_arr = search_arr.slice(startIndex, endIndex);
            } else {
                paginated_arr = search_arr;
            }

            let search_obj = {
                search_arr: paginated_arr,
                totalSearch: search_arr.length,
            };

            return search_obj;
        },
    },
};
1